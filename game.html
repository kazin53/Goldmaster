<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roblox Coin Collector 3D - MULTIPLAYER</title>
    <link rel="stylesheet" href="ui.css">
</head>
<body>
    <!-- ==================================== -->
    <!-- LOBBY UI (ADICIONAR ESTA SE√á√ÉO) -->
    <!-- ==================================== -->
    <div id="lobbyUI" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 1000; color: white; justify-content: center; align-items: center; flex-direction: column;">
        <h1 style="font-size: 36px; margin-bottom: 30px;">üéÆ MULTIPLAYER LOBBY</h1>
        
        <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; text-align: center;">
            <div id="connectionStatus" style="margin-bottom: 20px; font-size: 16px;">
                Aguardando conex√£o...
            </div>
            
            <button id="createRoomBtn" style="padding: 12px 24px; margin: 10px; font-size: 18px; background: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">
                üè† Criar Sala (Host)
            </button>
            
            <div id="joinSection" style="margin-top: 20px;">
                <input type="text" id="hostIdInput" placeholder="ID do Host" style="padding: 10px; font-size: 16px; width: 200px; margin-right: 10px;">
                <button id="joinRoomBtn" style="padding: 12px 24px; font-size: 18px; background: #2196F3; color: white; border: none; border-radius: 5px; cursor: pointer;">
                    üîó Entrar na Sala
                </button>
            </div>
            
            <button id="startGameBtn" style="padding: 12px 24px; margin-top: 20px; font-size: 18px; background: #FF9800; color: white; border: none; border-radius: 5px; cursor: pointer; display: none;">
                üöÄ Iniciar Jogo
            </button>
        </div>
        
        <div style="margin-top: 20px; font-size: 14px; color: #ccc;">
            <div>Seu ID: <span id="localPlayerIdDisplay">-</span></div>
            <div style="margin-top: 10px;">Como jogar: Host cria sala ‚Üí Guest entra com ID ‚Üí Iniciar Jogo!</div>
        </div>
    </div>

    <div id="gameContainer">
        <div id="ui">
            <div id="level">N√≠vel 1</div>
            <div id="coinsCarried">Moedas: 0/5</div>
            <div id="coinsStored">Guardadas: 0</div>
            <div id="experienceBar">
                <div id="experienceFill"></div>
            </div>
            <div id="nextLevelInfo">Pr√≥ximo n√≠vel: 10 moedas</div>
            
            <div id="playerStats">
                <div class="stat">Velocidade: 100%</div>
                <div class="stat">Capacidade: 5 moedas</div>
                <div class="stat">Alcance: 100%</div>
                <div class="stat" id="dashStatus">Dash: Pronto</div>
            </div>
        </div>
        
        <div id="instructions">
            WASD/Setas: Mover ‚Ä¢ ESPA√áO: Pular ‚Ä¢ Shift: Dash ‚Ä¢ Colete moedas e leve para a m√°quina central!
        </div>
        
        <div id="mobileControls">
            <div id="joystick">
                <div id="joystickKnob"></div>
            </div>
            <div id="mobileButtons">
                <button id="jumpButton" class="mobileButton">ü§∏</button>
                <button id="dashButton" class="mobileButton">üí®</button>
            </div>
        </div>
        
        <div class="machinePrompt" id="machineHint">
            Pressione ESPA√áO para guardar suas moedas!
        </div>
        
        <div id="levelUpNotification">
            <h2>N√çVEL AUMENTOU!</h2>
            <p id="newLevelText">N√≠vel 2</p>
            <p id="levelUpBonus">Novas habilidades desbloqueadas!</p>
        </div>
    </div>

    <div id="tapPrompt">Toque na tela para abrir em tela cheia!</div>

    <!-- ==================================== -->
    <!-- SCRIPTS (CORRIGIR ORDEM) -->
    <!-- ==================================== -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    
    <!-- PRIMEIRO o WebRTC, DEPOIS o jogo -->
    <script src="webrtc-p2p.js"></script>
    <script src="jj.js"></script>
</body>
</html>